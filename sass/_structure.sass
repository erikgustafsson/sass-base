.container
  margin: auto
  width: 100%
  max-width: REM($container-width + $gutter)
  float: none !important /* !important since this element should never be floated */

[role="group"]
  float: left
  margin-left: REM($gutter / 2)
  margin-right: REM($gutter / 2)
  +calcwidth(100%, REM($gutter))
  +media-query($maxwidth: $tablet-large)
    +calcwidth(100%, REM($gutter-tablet))
  +media-query($maxwidth: $mobile-large)
    +calcwidth(100%, REM($gutter-mobile))
  +media-query($maxwidth: $tablet-large)
    margin-left: REM($gutter-tablet / 2)
    margin-right: REM($gutter-tablet / 2)
  +media-query($maxwidth: $mobile-large)
    margin-left: REM($gutter-mobile / 2)
    margin-right: REM($gutter-mobile / 2)
  &:not(.container)
    margin-bottom: REM($gutter * 2)
    +media-query($maxwidth: $tablet-large)
      margin-bottom: REM($gutter-tablet * 2)
    +media-query($maxwidth: $mobile-large)
      margin-bottom: REM($gutter-mobile * 2)
  &.nomargin:not(.container)
    margin: 0

[role="rowgroup"]
  float: left
  width: 100%
  margin-bottom: REM($gutter)
  +media-query($maxwidth: $tablet-large)
    margin-bottom: REM($gutter-tablet)
  +media-query($maxwidth: $mobile-large)
    margin-bottom: REM($gutter-mobile)
main
  overflow: hidden
  padding-top: REM($gutter)
  +media-query($maxwidth: $tablet-large)
  margin-top: REM($gutter-tablet)
  +media-query($maxwidth: $mobile-large)
    margin-top: REM($gutter-mobile)

.row
  float: left
  width: 100%
  margin-bottom: REM($gutter)
  +media-query($maxwidth: $tablet-large)
    margin-bottom: REM($gutter-tablet)
  +media-query($maxwidth: $mobile-large)
    margin-bottom: REM($gutter-mobile)
  &:last-child:not([role="group"])
    margin-bottom: 0

.col
  float: left
  clear: none
  margin-left: REM($gutter / 2)
  margin-right: REM($gutter / 2)
  +media-query($maxwidth: $tablet-large)
    margin-left: REM($gutter-tablet)
    margin-right: REM($gutter-tablet)
  +media-query($maxwidth: $mobile-large)
    margin-left: REM($gutter-mobile)
    margin-right: REM($gutter-mobile)
  +media-query($maxwidth: $mobile-small)
    margin-left: REM($gutter-mobile-small)
    margin-right: REM($gutter-mobile-small)
  & > .col
    &.span100
      width: 100% /** Nested column should be 100% **/
  &:last-child
    float: right
    &.last
      float: left /* You can define last to float left */
  &:only-child
    float: left
  &.nomargin
    margin: 0
  &.hero
    margin-left: 0
    margin-right: 0
    width: 100%
  .inner
    width: 100%
    height: auto

article.col[role=main]
  +media-query($maxwidth: $tablet-large)
    +calcwidth(60%, REM($gutter-tablet * 2))
  +media-query($maxwidth: $mobile-large)
    +calcwidth(100%, REM($gutter-mobile * 2))
    margin-bottom: REM($gutter-mobile)
  +media-query($maxwidth: $mobile-small)
    +calcwidth(100%, REM($gutter-mobile-small * 2))

aside.col[role=complementary]
  +media-query($maxwidth: $tablet-large)
    +calcwidth(40%, REM($gutter-tablet * 2))
  +media-query($maxwidth: $mobile-large)
    +calcwidth(100%, REM($gutter-mobile * 2))
  +media-query($maxwidth: $mobile-small)
    +calcwidth(100%, REM($gutter-mobile-small * 2))

@import structure_widths